<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>üé¨ Cat√°logo CineJs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  
<link rel="stylesheet" href="style.css">
  
</head>
<body>
    <div class="container centralizado">
    <h1>üé¨Cat√°logo CineJs</h1>
    <form id="form-filme">
      <fieldset>
        <legend>Informa√ß√µes do Filme</legend>
        <input type="text" id="titulo" placeholder="T√≠tulo" required>
        <input type="number" id="ano" placeholder="Ano de lan√ßamento" required>
        <input type="text" id="genero" placeholder="G√™nero" required>
        <input type="text" id="direcao" placeholder="Dire√ß√£o" required>
        <textarea id="sinopse" placeholder="Sinopse" required></textarea>
        <input type="number" id="avaliacao" placeholder="Avalia√ß√£o (0 a 10)" min="0" max="10" step="0.1" required>
        <input type="number" id="duracao" placeholder="Dura√ß√£o (em minutos)" min="1" required>
        <div class="streaming-group">
          <label for="streaming">Dispon√≠vel em streaming?</label>
          <span class="streaming-option">N√£o</span>
          <input type="checkbox" id="streaming">
          <span class="streaming-option">Sim</span>
        </div>

        <input type="text" id="poster" placeholder="Link do poster (opcional)">
        <button type="submit">Cadastrar Filme</button>
      </fieldset>
    </form>
    <div class="crud-buttons">
      <h3>Opera√ß√µes CRUD</h3>
      <input type="text" id="titulo-busca" placeholder="T√≠tulo do filme para buscar/atualizar/excluir">
      <button onclick="buscarFilme()">Buscar Filme</button>
      <button onclick="atualizarFilme()">Atualizar Filme</button>
      <button onclick="excluirFilme()">Excluir Filme</button>
    </div>
    <div id="mensagem-sucesso"></div>
    <h2>üéûÔ∏è Filmes Cadastrados</h2>
    <!-- Carrossel dos filmes cadastrados -->
    <div id="carrossel-filmes" class="carrousel vertical-carrousel">
      <button class="carrousel-btn prev" onclick="mudarFilme(-1)">&#9650;</button>
      <div class="carrousel-images" id="carrousel-imagens-filmes">
        <!-- Imagens dos filmes cadastrados ser√£o inseridas aqui via JS -->
      </div>
      <button class="carousel-btn next" onclick="mudarFilme(1)">&#9660;</button>
    </div>
    <div id="lista-filmes"></div>
  </div>

  <script src="script.js"></script>
</body>
<script>
// Carrossel dos filmes cadastrados
let idxFilme = 0;
function renderizarCarrosselFilmes() {
  const filmes = JSON.parse(localStorage.getItem('filmes')) || [];
  const carousel = document.getElementById('carrousel-imagens-filmes');
  carousel.innerHTML = '';
  filmes.forEach((filme, i) => {
    const img = document.createElement('img');
    img.src = filme.poster || 'img/logo_cinejs.png';
    img.alt = filme.titulo;
    img.className = 'carrousel-img' + (i === idxFilme ? ' active' : '');
    carousel.appendChild(img);
  });
}
function mudarFilme(delta) {
  const filmes = JSON.parse(localStorage.getItem('filmes')) || [];
  if (filmes.length === 0) return;
  idxFilme = (idxFilme + delta + filmes.length) % filmes.length;
  renderizarCarrosselFilmes();
}
// Atualiza carrossel ao carregar e ao cadastrar filme
window.addEventListener('DOMContentLoaded', renderizarCarrosselFilmes);
document.getElementById('form-filme').addEventListener('submit', function(e) {
  setTimeout(renderizarCarrosselFilmes, 100);
});
</script>
</body>
</html>
